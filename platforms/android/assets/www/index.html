<!DOCTYPE html>
<html lang="pt-br">
<head>
 <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <script src="js/bootstrap.min.js"></script>
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <title>postoapp</title>
</head>
<body>


<!-- Cria o botão de criar mapa -->


<div id="menu">  
    <button type="button" onclick="init()" class="btn btn-mapa" width="100%">Mapa</button>
</div>

<!-- Define o tamanho do mapa -->
<div id="map" style="width: 100%;"></div> 

<!-- Chama a api online do google maps -->
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">
    
    // Define a altura do mapa para se enquadrar com o tamanho da tela
    var altura = $(window).height();
    $('#map').css('height',altura-40);

    var map;
    var marker;

    function init() {
        // Define o link do icone que será utilizado no mapa
        var image = new google.maps.MarkerImage(
            'img/personagem.png',
            new google.maps.Size(50,50) 
            );

        var mapOptions = {
            center: new google.maps.LatLng(-26.8097025,-49.2821839), //Define o local no mapa quando abrir
            zoom: 15,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        } 
        map = new google.maps.Map(document.getElementById("map"),mapOptions);

        // Cria no mapa o icone de localização
        var sorocaba = new google.maps.LatLng(-26.8097025,-49.2821839);
        marker = new google.maps.Marker({
            position: sorocaba,
            title: "Casa do Felipe", // Ao passar o mouse no icone mostra uma descrição
            map: map,
            icon: image //Insere o icone no mapa
        });
        google.maps.event.addListener(marker,"click",showInfo);
    }

    function showInfo() {
        map.setZoom(16);
        map.setCenter(marker.getPosition());
        var infowindow = new google.maps.InfoWindow({
            content: "Rua Sorocaba"
        });
        infowindow.open(map,marker);
    }

</script>
 
</body>
</html>